{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\nlet PhotoEditorComponent = class PhotoEditorComponent {\n  constructor(housingService) {\n    this.housingService = housingService;\n    this.mainPhotoChangedEvent = new EventEmitter();\n  }\n\n  mainPhotoChanged(url) {\n    this.mainPhotoChangedEvent.emit(url);\n  }\n\n  ngOnInit() {}\n\n  setPrimaryPhoto(propertyId, photo) {\n    this.housingService.setPrimaryPhoto(propertyId, photo.publicId).subscribe(() => {\n      this.mainPhotoChanged(photo.imageUrl);\n      this.property.photos.forEach(p => {\n        if (p.isPrimary) {\n          p.isPrimary = false;\n        }\n\n        if (p.publicId === photo.publicId) {\n          p.isPrimary = true;\n        }\n      });\n    });\n  }\n\n  deletePhoto(propertyId, photo) {\n    this.housingService.deletePhoto(propertyId, photo.publicId).subscribe(() => {\n      this.property.photos = this.property.photos.filter(p => p.publicId !== photo.publicId);\n    });\n  }\n\n};\n\n__decorate([Input()], PhotoEditorComponent.prototype, \"property\", void 0);\n\n__decorate([Output()], PhotoEditorComponent.prototype, \"mainPhotoChangedEvent\", void 0);\n\nPhotoEditorComponent = __decorate([Component({\n  selector: 'app-PhotoEditor',\n  templateUrl: './PhotoEditor.component.html',\n  styleUrls: ['./PhotoEditor.component.css']\n})], PhotoEditorComponent);\nexport { PhotoEditorComponent };\n/*\r\n\r\n\r\n    */","map":null,"metadata":{},"sourceType":"module"}